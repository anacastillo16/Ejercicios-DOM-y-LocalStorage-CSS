<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Biblioteca</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <h1>Gestión de Biblioteca</h1>
    </header>

    <main>
        <p>Campos a introducir: </p>
        <form action="">
            <input type="text" name="ISBN" id="ISBN" placeholder="Introduce el ISBN">
            <input type="text" name="titulo" id="titulo" placeholder="Introduce el título">
            <input type="text" name="autor" id="autor" placeholder="Introduce el autor">
            <input type="number" name="publicacion" id="publicacion" placeholder="Introduce el año de publicación">
        </form>
        <div id="botones">
            <button id="registrar">Registrar</button>
            <button id="mostrar">Mostrar</button>
            <button id="consultar">Consultar Libro</button>
            <button id="contar">Contar libros por Autor</button>
            <button id="modificar">Modificar Libro</button>
        </div>

        <table id="resultado">
            <tr>
                <th>ISBN</th>
                <th>Título</th>
                <th>Autor</th>
                <th>Publicación</th>
            </tr>

        </table>

    </main>
    
    <script>
        function registrarLibro() {
            let ISBN = document.getElementById("ISBN").value;
            let titulo = document.getElementById("titulo").value;
            let autor = document.getElementById("autor").value;
            let publicacion = document.getElementById("publicacion").value;

            let libro = {ISBN, titulo, autor, publicacion};

            localStorage.setItem(ISBN, JSON.stringify(libro));

            alert("Libro registrado con éxito");
            document.querySelector("form").reset();
        }

        let registrar = document.getElementById("registrar");
        registrar.addEventListener("click", function() {
            registrarLibro();
        });

        function mostrarLibros() {
            let libros = JSON.parse(localStorage.getItem("libros"));
            let resultado = document.getElementById("resultado");
            resultado.innerHTML = "<th>ISBN</th> <th>Título</th> <th>Autor</th> <th>Publicación</th>";

            for (let i = 0; i < localStorage.length; i++) {
                let ISBN = localStorage.key(i);

                let libro = JSON.parse(localStorage.getItem(ISBN));

                resultado.innerHTML += `<tr><td>${libro.ISBN}</td><td>${libro.titulo}</td><td>${libro.autor}</td><td>${libro.publicacion}</td></tr>`;
            }
        }

        let mostrar = document.getElementById("mostrar");
        mostrar.addEventListener("click", function() {
            mostrarLibros();
        });
    </script>
</body>
</html>